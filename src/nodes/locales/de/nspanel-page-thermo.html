<script type="text/html" data-help-name="nspanel-page-thermo">
    <p>The Thermo page node represents a thermostat control panel.</p>

    <h3>Konfiguration</h3>
    <h4><b>Allgemein</b></h4>
    <ul>
        <li><b>Name</b>: Der Name des Nodes.</li>
        <li><b>NSPanel</b>: Ordnet die Seite einem Panel zu.</li>
        <li><b>Überschrift</b>: Die Überschrift wird in der Titelzeile des Bildschirms angezeigt.</li>
        <li><b>Stand-by Überschreibung</b>: Überschreibt die in der NSPanel-Konfiguration angegebene Zeitspanne.</li>

        <li><b>Beschriftung aktuelle Temperatur</b>: Beschriftung für die aktuelle Temperaturanzeige</li>
        <li><b>Beschriftung Status</b>: Beschriftung für aktuellen Status</li>
        <li>
            <b>Detail-Popup anzeigen</b>: Aktiviert die Detailansicht, um weitere Informationen in einem Pop-up
            anzuzeigen
        </li>
        <li>
            <b>Temperatursensor des Panels verwenden</b>: Verwendet den internen Sensor des NSPanels zur Anzeige der
            aktuellen Temperatur
        </li>
        <li><b>Zweite Temperatur aktivieren</b>: Zeigt eine zweite Sollwerttemperaturregelung an</li>

        <li><b>Zielwert Temperatur</b>: Zieltemperatur</li>
        <li><b>Zielwert Temperatur 2</b>: Zweite Zieltemperatur</li>
        <li><b>Unterer Heizsollwert</b>: Minimaler Wert, der eingegeben werden kann</li>
        <li><b>Oberer Heizsollwert</b>: Maximaler Wert, der eingegeben werden kann</li>
        <li><b>Schrittweite</b>: Intervall für die Aufwärts- und Abwärtssteuerung der Solltemperatur</li>
        <li><b>Einheit</b>: Fahrenheit oderr Celsius</li>
    </ul>

    <h4><b>Thermostat</b></h4>
    <ul>
        <li><b>Zielwert Temperatur</b>: Zieltemperatur</li>
        <li><b>Zweipunktregler aktivieren</b>: Aktiviert den Zweipunktregler</li>
        <li><b>Hysterese</b> Die Totzone, die für die Zweipunktregelung verwendet wird</li>
        <li><b>Zielwert Temperatur 2</b>: Zweite Zieltemperatur</li>
        <li><b>Zweipunktregler 2 aktivieren</b>: Aktiviert den zweiten Zweipunktregler</li>
        <li><b>Hysterese 2</b>: Die Totzone, die für die zweite Zweipunktregelung verwendet wird</li>
    </ul>

    <h4><b>Aktionen</b></h4>
    Im Gegensatz zu anderen Seiten können auf der Thermo-Seite bis zu 8 Aktionen anstelle von Elementen konfiguriert
    werden. Die angegebene ID wird für die ausgehende Nachricht in der Dateneigenschaft der Nutzlast verwendet, wenn die
    Aktionstaste gedrückt wird. Die Aktion kann auch mit dem Status eines Relais des Bedienfelds verknüpft werden.

    <h4><b>Ereignisse</b></h4>
    Mittels der Ereignisse kann das Verhalten des Bildschirmschoners angepasst werden.
    <ul>
        <li><b>Zurück</b>: Navigationselement, welches links in der Titelzeile des Panels angezeigt wird.</li>
        <li><b>Vor</b>: Navigationselement, welches rechts in der Titelzeile des Panels angezeigt wird.</li>
        <li>
            <b><i>Taste 1*</i></b
            >: Aktion, welche ausgeführt wird, wenn die linke Hardware-Taste gedrückt wird.
        </li>
        <li>
            <b><i>Taste 2*</i></b
            >: Aktion, welche ausgeführt wird, wenn die rechte Hardware-Taste gedrückt wird.
        </li>
        <li><b>Aktionen</b>: Zusätzlich können Aktionen mit Aktionen verbunden werden.</li>
        <li><b>Temperatur unter Zielwert**</b>: Zieltemperatur wurde unterschritten</li>
        <li><b>Temperatur im Zielbereich**</b>: Zieltemperatur wurde unter Berücksichtigung der Hysterese erreicht</li>
        <li><b>Temperatur über Zielwert**</b>: Zieltemperatur wurde überschritten</li>
        <li><b>Temperatur unter Zielwert 2**</b>: Zweite Zieltemperatur wurde unterschritten</li>
        <li>
            <b>Temperatur im Zielbereich 2**</b>: Zweite Zieltemperatur wurde unter Berücksichtigung der Hysterese
            erreicht
        </li>
        <li><b>Temperatur über Zielwert 2**</b>: Zweite Zieltemperatur wurde überschritten</li>
    </ul>
    <p>
        * Nur verfügbar, wenn die Option <i>Tasten von Relais entkoppeln</i> in der Panel-Konfiguration aktiviert
        ist.<br />
        ** Nur ausgelöst, wenn die Option <i>Zweipunktregler aktivieren</i> bzw.
        <i>Zweipunktregler 2 aktivieren</i> ausgewählt ist.
    </p>

    <h3>Eingangsdaten</h3>
    <h4><b>Daten</b></h4>
    Daten, die mit dem Topic <code>data</code> empfangen werden, werden entsprechend den eingerichteten Aktionen
    dargestellt. Die Payload kann ein Objekt oder ein Array von Objekten sein, welche folgendem Schema entsprechen:
    <ul>
        <li><b>entityId</b>: Die Id des Elements, für das die Daten bestimmt sind</li>
        <li><b>icon</b>: optional, das anzuzeigende Icon</li>
        <li>
            <b>iconColor</b>: optional, die zu verwendende Farbe für das Icon (<code>#rrggbb</code>, oder
            <code>rgb(r,g,b)</code>)
        </li>
        <li><b>text</b>: optional, der anzuzeigende Text</li>
        <li><b>value</b>: Der Zustand für die Aktion (<code>1</code> für aktiv, <code>0</code> für inaktiv)</li>
    </ul>

    Alle unterstützten Icons sind in dem
    <a target="_blank" href="https://docs.nspanel.pky.eu/icon-cheatsheet.html">Lovelace UI Icon Cheatsheet</a>
    dargestellt.

    <h4><b>Messwerte</b></h4>
    Die aktuellen Temperaturmesswerte werden mit dem Topic <code>thermo</code> empfangen. Die Payload entspricht
    folgendem Schema und werden für die Zweipunktregelung verwendet:
    <ul>
        <li><b>temperature</b>: optional, Messwert für die aktuelle Temperatur</li>
        <li><b>temperature2</b>: optional, Messwert für die aktuelle zweite Temperatur</li>
        <li><b>targetTemperature</b>: optional, neue Zieltemperatur</li>
        <li><b>targetTemperature2</b>: optional, neue Zieltemperatur 2</li>
        <li>
            <b>tempUnit</b>: optional, Einheit des Messwerts (<code>C</code> für Celsius, <code>F</code> für Fahrenheit)
        </li>
    </ul>

    Ist die Einheit nicht angegeben, wird die voreingestellten Einheit angenommen. Weicht die angegebene Einheit von der
    Voreingestellten ab, so wird in die konfigurierte Einheit umgerechnet.
</script>
